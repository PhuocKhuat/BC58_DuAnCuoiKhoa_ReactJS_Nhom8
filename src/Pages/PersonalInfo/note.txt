.personalInfo .progress {
  display: flex;
  height: 1rem;
  overflow: hidden;
  line-height: 0;
  font-size: 0.75rem;
  background-color: #e9ecef;
  border-radius: 0.25rem;
  width: 100%;
}
.personalInfo .progress-bar {
  background-color: #008ffb;
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: hidden;
  color: #fff;
  text-align: center;
  white-space: nowrap;
}
.personalInfo .progress-bar-striped {
  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );
  background-size: 1rem 1rem;
}

/* :where(.css-dev-only-do-not-override-1qhpsh8).ant-tabs .ant-tabs-tab-btn:active{
  background: linear-gradient(to right, #227df9, #7462f9, #df3ef8) !important;
  color: white !important;
} */

import React, { useState } from "react";
import { Button, Modal } from "antd";
import { FastField, Form, Formik } from "formik";
import InputFlied from "../../CustomFlied/InputFlied";
import { https } from "../../Services/api";
import { useDispatch } from "react-redux";
import { setUpdateForm } from "../../Redux/personalSlice";

const Modals = () => {
  const initialValues = {
    hoTen: "",
    matKhau: "",
    email: "",
    soDT: "",
    taiKhoan: "nguyenTest",
    maNhom: "GP09",
    maLoaiNguoiDung: "HV",
  };
  const [isModalOpen, setIsModalOpen] = useState(false);
  const dispatch = useDispatch();
  const showModal = () => {
    setIsModalOpen(true);
  };
  const handleCancel = () => {
    setIsModalOpen(false);
  };
  const handleOk = () => {
    setIsModalOpen(false);
  };
  const handleUpdate = (infoUsers) => {
    console.log("ðŸš€ ~ handleUpdate ~ infoUsers:", infoUsers)
    https
      .put("/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung", infoUsers)
      .then((res) => {
        console.log(res);
        dispatch(setUpdateForm(res.data));
      })
      .catch((err) => {
        console.log(err);
      });
    };
    const handleChange = ()=>{
    
    }
  return (
    <div className="modals">
      <Button type="primary" className="btnModals" onClick={showModal}>
        <p>Personal Infomation</p>
      </Button>
      <Modal
        title="Edit personal information"
        open={isModalOpen}
        onOk={handleOk}
        onCancel={handleCancel}
      >
        <Formik initialValues={initialValues}>
          {(formikProps) => {
            const { values, errors, touched } = formikProps;
            console.log("ðŸš€ ~ Modals ~ touched:", touched);
            console.log("ðŸš€ ~ Modals ~ errors:", errors);
            console.log("ðŸš€ ~ Modals ~ values:", values);
            return (
              <Form className="modalForm">
                <FastField
                  name="hoTen"
                  type="text"
                  component={InputFlied}
                  label="Full Name:"
                  placeholder="Edit your full name"
                  onChange={handleChange}
                />
                <FastField
                  name="matKhau"
                  type="password"
                  component={InputFlied}
                  label="Password:"
                  placeholder="Edit your password"
                />
                <FastField
                  name="email"
                  type="email"
                  component={InputFlied}
                  label="Email:"
                  placeholder="Edit your email"
                />
                <FastField
                  name="soDT"
                  type="number"
                  component={InputFlied}
                  label="Phone Number:"
                  placeholder="Edit your phone number"
                />
                <Button onClick={()=>{
                  handleUpdate(initialValues)
                }} className="btnUpdate">
                  Update
                </Button>
              </Form>
            );
          }}
        </Formik>
      </Modal>
    </div>
  );
};
export default Modals;
